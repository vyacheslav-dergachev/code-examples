<?xml version="1.0" encoding="UTF-8"?>

<ruleset xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         xsi:noNamespaceSchemaLocation="vendor/squizlabs/php_codesniffer/phpcs.xsd"
         name="Custom Standard"
>
    <arg name="basepath" value="."/>
    <arg name="cache" value="var/cache/.phpcs-cache"/>
    <arg name="colors"/>

    <!-- PSR12 sniff -->
    <rule ref="PSR12">
        <exclude name="Squiz.WhiteSpace.ScopeClosingBrace.ContentBefore"/>
        <exclude name="Squiz.Strings.ConcatenationSpacing"/>
        <exclude name="PEAR.WhiteSpace.ScopeClosingBrace.Line"/>
        <exclude name="PSR1.Files.SideEffects.FoundWithSymbols"/>
        <exclude name="PSR2.ControlStructures.ControlStructureSpacing"/>
    </rule>


    <!-- Team sniff -->
    <!-- <rule ref="./src/Infrastructure/CodeStyle/CodingStandard"/> -->


    <!-- Symfony sniff -->
    <!-- <rule ref="vendor/escapestudios/symfony2-coding-standard/Symfony">
        <exclude name="Symfony.Commenting.ClassComment"/>
        <exclude name="Symfony.Commenting.FunctionComment"/>
        <exclude name="Symfony.Functions.ScopeOrder"/>
        <exclude name="Symfony.Functions.Arguments"/>
        <exclude name="Symfony.Commenting.License"/>
        <exclude name="Symfony.ControlStructure.YodaConditions"/>
        <exclude name="Symfony.ControlStructure.UnaryOperators"/>
        <exclude name="Symfony.NamingConventions.ValidClassName"/>
    </rule> -->


    <!-- SlevomatCodingStandard sniff -->
    <rule ref="./vendor/slevomat/coding-standard/SlevomatCodingStandard">
        <exclude name="SlevomatCodingStandard.Classes.ClassStructure"/>
        <exclude name="SlevomatCodingStandard.Classes.ClassLength"/>
        <exclude name="SlevomatCodingStandard.Classes.DisallowConstructorPropertyPromotion"/>
        <exclude name="SlevomatCodingStandard.Classes.EmptyLinesAroundClassBraces"/>
        <exclude name="SlevomatCodingStandard.Classes.ForbiddenPublicProperty"/>
        <exclude name="SlevomatCodingStandard.Classes.RequireSingleLineMethodSignature"/>
        <exclude name="SlevomatCodingStandard.Classes.SuperfluousAbstractClassNaming"/>
        <exclude name="SlevomatCodingStandard.Classes.SuperfluousExceptionNaming"/>
        <exclude name="SlevomatCodingStandard.Classes.SuperfluousInterfaceNaming"/>
        <exclude name="SlevomatCodingStandard.Classes.SuperfluousTraitNaming"/>
        <exclude name="SlevomatCodingStandard.Classes.TraitUseSpacing"/>
        <exclude name="SlevomatCodingStandard.Classes.SuperfluousErrorNaming"/>
        <exclude name="SlevomatCodingStandard.Commenting.DisallowOneLinePropertyDocComment"/>
        <exclude name="SlevomatCodingStandard.Commenting.DocCommentSpacing"/>
        <exclude name="SlevomatCodingStandard.Commenting.RequireOneLineDocComment"/>
        <exclude name="SlevomatCodingStandard.Commenting.UselessInheritDocComment"/>
        <exclude name="SlevomatCodingStandard.ControlStructures.DisallowEmpty"/>
        <exclude name="SlevomatCodingStandard.ControlStructures.DisallowNullSafeObjectOperator"/>
        <exclude name="SlevomatCodingStandard.ControlStructures.DisallowShortTernaryOperator"/>
        <exclude name="SlevomatCodingStandard.ControlStructures.DisallowShortTernaryOperator"/>
        <exclude name="SlevomatCodingStandard.ControlStructures.NewWithoutParentheses"/>
        <exclude name="SlevomatCodingStandard.ControlStructures.RequireMultiLineTernaryOperator"/>
        <exclude name="SlevomatCodingStandard.ControlStructures.RequireYodaComparison"/>
        <exclude name="SlevomatCodingStandard.Files.TypeNameMatchesFileName"/>
        <exclude name="SlevomatCodingStandard.Functions.DisallowArrowFunction"/>
        <exclude name="SlevomatCodingStandard.Functions.DisallowTrailingCommaInCall"/>
        <exclude name="SlevomatCodingStandard.Functions.DisallowTrailingCommaInDeclaration"/>
        <exclude name="SlevomatCodingStandard.Functions.RequireSingleLineCall"/>
        <exclude name="SlevomatCodingStandard.Functions.DisallowNamedArguments"/>
        <exclude name="SlevomatCodingStandard.Namespaces.AlphabeticallySortedUses"/>
        <exclude name="SlevomatCodingStandard.Namespaces.FullyQualifiedClassNameInAnnotation"/>
        <exclude name="SlevomatCodingStandard.Namespaces.FullyQualifiedExceptions"/>
        <exclude name="SlevomatCodingStandard.Namespaces.FullyQualifiedGlobalConstants"/>
        <exclude name="SlevomatCodingStandard.Namespaces.FullyQualifiedGlobalFunctions"/>
        <exclude name="SlevomatCodingStandard.Namespaces.ReferenceUsedNamesOnly"/>
        <exclude name="SlevomatCodingStandard.Namespaces.UseOnlyWhitelistedNamespaces"/>
        <exclude name="SlevomatCodingStandard.Operators.DisallowIncrementAndDecrementOperators"/>
        <exclude name="SlevomatCodingStandard.TypeHints.DeclareStrictTypes"/>
        <exclude name="SlevomatCodingStandard.TypeHints.DisallowMixedTypeHint"/>
        <exclude name="SlevomatCodingStandard.Numbers.DisallowNumericLiteralSeparator"/>
        <exclude name="SlevomatCodingStandard.Classes.RequireAbstractOrFinal"/>
        <exclude name="SlevomatCodingStandard.Attributes.AttributesOrder"/>
        <exclude name="SlevomatCodingStandard.Arrays.AlphabeticallySortedByKeys"/>
        <exclude name="SlevomatCodingStandard.Exceptions.DisallowNonCapturingCatch"/>
        <exclude name="SlevomatCodingStandard.Commenting.DeprecatedAnnotationDeclaration"/>
        <exclude name="SlevomatCodingStandard.PHP.DisallowReference.DisallowedAssigningByReference" />
        <exclude name="SlevomatCodingStandard.PHP.DisallowReference.DisallowedPassingByReference" />
        <exclude name="SlevomatCodingStandard.Files.FileLength.FileTooLong" />
    </rule>


    <!-- Zend sniff -->
    <!-- <rule ref="Zend">
        <exclude name="Zend.NamingConventions.ValidVariableName"/>
    </rule> -->


    <!-- Generic sniff -->
    <rule ref="Generic.PHP.ForbiddenFunctions">
        <properties>
            <property name="forbiddenFunctions" type="array">
                <element key="mysql_fetch_assoc" value="null"/>
                <element key="mysql_query" value="null"/>
                <element key="mysql_connect" value="null"/>
                <element key="dd" value="null"/>
                <element key="die" value="null"/>
                <element key="var_dump" value="null"/>
                <element key="sizeof" value="count"/>
                <element key="delete" value="unset"/>
                <element key="create_function" value="null"/>
                <element key="eval" value="null"/>
                <element key="echo" value="null"/>
                <element key="sleep" value="null"/>
                <element key="dump" value="null"/>
                <element key="exit" value="null"/>
            </property>
        </properties>
    </rule>

    <rule ref="Generic.Files.LineLength">
        <properties>
            <property name="lineLimit" value="170"/>
            <property name="absoluteLineLimit" value="170"/>
        </properties>
    </rule>

    <rule ref="Generic.Arrays.ArrayIndent">
        <exclude name="Generic.Arrays.ArrayIndent.CloseBraceNotNewLine"/>
    </rule>


    <!-- Squiz sniff -->
    <rule ref="Squiz.Strings.DoubleQuoteUsage"/>
    <rule ref="Squiz.Strings.DoubleQuoteUsage.ContainsVar">
        <severity>0</severity>
    </rule>

    <rule ref="Squiz.WhiteSpace.FunctionSpacing">
        <properties>
            <property name="spacing" value="1"/>
            <property name="spacingBeforeFirst" value="0"/>
            <property name="spacingAfterLast" value="0"/>
        </properties>
    </rule>

    <rule ref="Squiz.WhiteSpace.OperatorSpacing">
        <properties>
            <property name="ignoreNewlines" value="true"/>
        </properties>
    </rule>


    <!-- SlevomatCodingStandard sniff -->
    <rule ref="SlevomatCodingStandard.Classes.RequireMultiLineMethodSignature">
        <properties>
            <property name="minLineLength" value="170"/>
        </properties>
    </rule>

    <rule ref="SlevomatCodingStandard.ControlStructures.RequireMultiLineCondition">
        <properties>
            <property name="minLineLength" value="170"/>
        </properties>
    </rule>

    <rule ref="SlevomatCodingStandard.Files.LineLength">
        <properties>
            <property name="lineLengthLimit" value="170"/>
        </properties>
    </rule>

    <rule ref="SlevomatCodingStandard.Functions.RequireMultiLineCall">
        <properties>
            <property name="minLineLength" value="170"/>
        </properties>
    </rule>

    <rule ref="SlevomatCodingStandard.Functions.FunctionLength">
        <properties>
            <property name="maxLinesLength" value="50"/>
        </properties>
    </rule>

    <rule ref="SlevomatCodingStandard.Namespaces.UnusedUses">
        <properties>
            <property name="searchAnnotations" value="true"/>
            <property name="ignoredAnnotations" type="array">
                <element value="@group"/>
            </property>
        </properties>
    </rule>

    <rule ref="SlevomatCodingStandard.Namespaces.UseSpacing">
        <properties>
            <property name="linesCountBetweenUseTypes" value="1"/>
        </properties>
    </rule>

    <rule ref="SlevomatCodingStandard.Whitespaces.DuplicateSpaces">
        <properties>
            <property name="ignoreSpacesInAnnotation" value="true"/>
        </properties>
    </rule>

    <rule ref="SlevomatCodingStandard.Complexity.Cognitive">
        <properties>
            <property name="warningThreshold" value="15"/>
            <property name="errorThreshold" value="15"/>
        </properties>
    </rule>

    <rule ref="SlevomatCodingStandard.Classes.ClassLength">
        <properties>
            <property name="maxLinesLength" value="300"/>
        </properties>
    </rule>
</ruleset>
